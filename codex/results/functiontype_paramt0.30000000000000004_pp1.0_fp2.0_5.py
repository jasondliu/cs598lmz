from types import FunctionType
list(FunctionType(lambda x: x + 1, globals(), "foo")(1))

# Test that the function name is set correctly
def foo():
    return foo.__name__

foo()

# Test that the function name is set correctly
def foo():
    return foo.__name__

foo()

# Test that the function name is set correctly
def foo():
    return foo.__name__

foo()

# Test that the function name is set correctly
def foo():
    return foo.__name__

foo()

# Test that the function name is set correctly
def foo():
    return foo.__name__

foo()

# Test that the function name is set correctly
def foo():
    return foo.__name__

foo()

# Test that the function name is set correctly
def foo():
    return foo.__name__

foo()

# Test that the function name is set correctly
def foo():
    return foo.__name__

foo()

# Test that the function name is set correctly
def foo():
    return foo.__name__
