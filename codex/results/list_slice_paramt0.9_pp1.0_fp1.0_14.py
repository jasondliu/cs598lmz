import weakref
class A(object):pass
def callback(x):del lst[0]
keepali0e=[]
lst=[str()]
a=A()
a.c=a
keepali0e.append(weakref.ref(a,callback))
del a
lst(0)

import GCA1
import weakref
class A(object):pass
def callback(x):del lst[0]
keepali0e=[]
lst=[str()]
a=A()
a.c=a
keepali0e.append(weakref.ref(a,callback))
del A
lst(0)

import gc
gc.garbage(3)
gc.garbage(3)
gc.garbage(3)

import gc
gc.garbag(3)
gc.garbag(3)
gc.garbag(3)

import gc
lst=[str()for i in range(10)]
weakref.getweakreftargets()

import gc
gc.garbage(3)
gc.garbage(3)
gc.garbage(3)

import gc
class A(object):pass
a=A()
lst=[a,a]
del a
gc.collect()

import gc
class A(object):pass

