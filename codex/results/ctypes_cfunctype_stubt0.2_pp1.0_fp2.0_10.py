import ctypes
FUNTYPE = ctypes.CFUNCTYPE(ctypes.py_object)
@FUNTYPE
def fun():
    return 42

assert fun() == 42

# test that the function is not garbage collected
import gc
gc.collect()
assert fun() == 42

# test that the function is not garbage collected
import gc
gc.collect()
assert fun() == 42

# test that the function is not garbage collected
import gc
gc.collect()
assert fun() == 42

# test that the function is not garbage collected
import gc
gc.collect()
assert fun() == 42

# test that the function is not garbage collected
import gc
gc.collect()
assert fun() == 42

# test that the function is not garbage collected
import gc
gc.collect()
assert fun() == 42

# test that the function is not garbage collected
import gc
gc.collect()
assert fun() == 42

# test that the function is not garbage collected
import gc
gc.collect()
assert fun() == 42

# test that the function is not garbage collected
import gc
gc.collect()
assert fun() == 42

# test that the function is not garbage collected
