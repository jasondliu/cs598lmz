import weakref
class A(object):pass
def callback(x):del lst[0]
keepali0e=[]
lst=[str()]
a=A()
a.c=a
a.d=a
keepalive.append(a)
a.a=weakref.ref(a,callback)
a.b=weakref.ref(a)
del a
print(lst)

print(dir(A))
print(dir(A()))

# import weakref
# class A(object):pass
# a=A()
# b=A()
# a.a=b
# b.a=a
# print(a.a)
# print(b.a)
# del a
# del b

# import weakref
# class A(object):pass
# def callback(x):
#     print(x)
# a=A()
# a.a=a
# a.b=a
# a.c=a
# a.d=a
# a.e=a
# a.f=a
# a.g=a
# a.h=a
# a.i=a
# a.j=a
# a.k=a
# a.l=a
# a.m=a
