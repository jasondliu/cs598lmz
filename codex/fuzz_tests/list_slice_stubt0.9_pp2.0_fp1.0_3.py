import weakref
class A(object):pass
def callback(x):del lst[0]
keepali0e=[]
lst=[str()]
a=A()
a.c=a
keepalive.append(a)
ic=iter(lst)
weakref.add_weak_callback(ic,callback)
del lst
del lst
del lst
del lst
del lst
del lst
del lst
del lst
del lst
del lst
del lst
del lst
del lst
del lst
del lst
del lst
next(ic)
