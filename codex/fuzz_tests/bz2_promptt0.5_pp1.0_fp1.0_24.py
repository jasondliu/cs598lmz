import bz2
# Test BZ2Decompressor
#
# This is a unit test for the BZ2Decompressor class.
#
# The test is designed to be run from Lib/test/regrtest.py.
#
# It tests the correctness of the BZ2Decompressor class.
#
# This test is a bit tricky because the BZ2Decompressor class is
# a stream filter, and we need to feed it some input data, and
# check the output.  The input data must be a valid BZ2 stream,
# so we can't just use arbitrary data.  The test data is generated
# by the bz2 module, but we can't use the compress() function
# because then we'd be testing the compressor, not the decompressor.
# So we use the internal _bz2 module, which contains the compressor
# and decompressor but not the convenience functions.
#
# Note that the test data is generated by the _bz2 module,
# and the _bz2 module is tested by the bz2 module.  So if
# the _bz2 module is buggy, this test may fail, even if the
# B
