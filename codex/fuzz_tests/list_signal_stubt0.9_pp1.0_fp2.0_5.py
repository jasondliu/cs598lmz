import random
import signal

N = 10000
delays = [1e-6 + random.random() * 2e-5 for i in range(N)]

def handler(signum=None, frame=None):
    if delays:
        signal.setitimer(signal.ITIMER_REAL, delays.pop())

signal.signal(signal.SIGALRM, handler)
signal.setitimer(signal.ITIMER_REAL, 0)

while delays:
    for x in range(30000):
        pass
    print(x, "....", flush=True)
print("Done")
</code>
Output on my system:
<code>...
...
36837 ....
36149 ....
37338 ....
37187 ....
36125 ....
36820 ....
35347 ....
36476 ....
34727 ....
36396 ....
Done
</code>
Note: the columns of dots are not reported in the output; to make column alignment more obvious, I replaced them with periods.

