import weakref
class A(object):pass
def callback(x):del lst[0]
keepali0e=[]
lst=[str()]
a=A()
a.c=a
keepalive.append(a)
lst[0]=a
del a
class A(object):
    def __init__(self,a):
        self.a=a
    def __repr__(self):
        return str(self.a)
    def __del__(self):
        print "del"
def f():
    a=A(1)
    print a
    a.a=2
    print a
    return a
a=f()
print a
print a.a
print a.a=3
print a.a
print a
print a=4
print a
print a.a
import weakref
a=A(1)
print a
print a.a
print a=2
print a
print a.a
a=A(1)
print a
print a.a
print a=2
print a
print a.a
class A(object):pass
def f():
    a=A()
    print a
    return a
a=f()
print a
a=f()
print a
a=f()
